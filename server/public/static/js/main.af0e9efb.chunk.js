(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},177:function(e,t,a){e.exports=a(417)},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},206:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},416:function(e,t,a){},417:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(53),r=a.n(l),c=(a(182),a(1)),i=a(3),o=a(5),m=a(4),u=a(6),d=(a(183),a(184),a(2));var p=function(e){return s.a.createElement("div",{className:"App"},e.user&&s.a.createElement("nav",null,s.a.createElement("div",{className:"nav-wrapper acquainted-nav"},s.a.createElement(d.b,{exact:!0,to:"/"},s.a.createElement("img",{src:"/images/acquainted-logo1.png",className:"left acquainted-logo"})),s.a.createElement("ul",{id:"nav-mobile",class:"right"},s.a.createElement("li",null,s.a.createElement(d.b,{exact:!0,to:"/dashboard"},"Dashboard")),s.a.createElement("li",null,s.a.createElement(d.b,{exact:!0,to:"/profile"},"Profile")),s.a.createElement("li",null,s.a.createElement("a",{onClick:e.logout,href:"collapsible.html"},"Log out"))))),!e.user&&s.a.createElement("nav",null,s.a.createElement("div",{className:"nav-wrapper acquainted-nav"},s.a.createElement(d.b,{exact:!0,to:"/"},s.a.createElement("img",{src:"/images/acquainted-logo1.png",width:"14%",className:"left acquainted-logo"})),s.a.createElement("ul",{id:"nav-mobile",class:"right"},s.a.createElement("li",null,s.a.createElement("a",{href:"#aboutus"},"About")),s.a.createElement("li",null,s.a.createElement(d.b,{exact:!0,to:"/account/login"},"Log in")),s.a.createElement("li",null,s.a.createElement(d.b,{exact:!0,to:"/account/signup"},"Sign up"))))))},g=a(33),h=a(7),v=a.n(h),E=a(22),f=(a(47),function e(){var t=this;Object(c.a)(this,e),this.login=function(e,a){return console.log("<<<<<<<<<<<<<reached here>>>>>>>>>>>>>>>"),console.log("/api/user"),t.service.post("/login",{username:e,password:a}).then(function(e){return e.data})},this.currentUser=function(){return t.service.get("/currentUser").then(function(e){return e.data})},this.signup=function(e,a,n,s,l,r){return t.service.post("/signup",{username:e,password:a,name:n,email:s,city:l,isAcquaintance:r}).then(function(e){return e.data})},this.logout=function(){return t.service.post("/logout").then(function(e){return e.data})};var a=v.a.create({baseURL:"/api/user",withCredentials:!0});this.service=a}),b=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={usernameInput:"",passwordInput:""},a.service=new f,a.handleChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.submitLogin=function(e){e.preventDefault();var t=a.state.usernameInput,n=a.state.passwordInput;a.service.login(t,n).then(function(e){a.props.getUser(),setTimeout(function(){a.props.history.push("/dashboard")},700)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("form",{onSubmit:this.submitLogin},s.a.createElement("legend",null,"Username"),s.a.createElement("input",{value:this.state.usernameInput,type:"text",onChange:this.handleChange,name:"usernameInput"}),s.a.createElement("legend",null,"Password"),s.a.createElement("input",{value:this.state.passwordInput,type:"text",onChange:this.handleChange,name:"passwordInput"}),s.a.createElement("div",{class:"center-align"},s.a.createElement("button",{id:"login-button",class:"btn waves-effect waves-light form-button"},"Log in"))))}}]),t}(n.Component),y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",password:"",city:"",email:"",name:"",isAcquaintance:!1},a.service=new f,a.handleChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.submitSignup=function(e){e.preventDefault();var t=a.state.username,n=a.state.password,s=a.state.email,l=a.state.name,r=a.state.city,c=a.state.isAcquaintance;return a.service.signup(t,n,l,s,r,c).then(function(e){a.props.getUser(),setTimeout(function(){a.props.history.push("/dashboard")},700)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleAcquaintance",value:function(e){this.state.isAcquaintance?this.setState({isAcquaintance:!1}):this.setState({isAcquaintance:!0})}},{key:"render",value:function(){var e=this;return s.a.createElement("form",{onSubmit:this.submitSignup},s.a.createElement("legend",null,"Name"),s.a.createElement("input",{type:"text",value:this.state.name,onChange:this.handleChange,name:"name"}),s.a.createElement("legend",null,"Username"),s.a.createElement("input",{type:"text",value:this.state.username,onChange:this.handleChange,name:"username"}),s.a.createElement("legend",null,"Password"),s.a.createElement("input",{type:"text",value:this.state.password,onChange:this.handleChange,name:"password"}),s.a.createElement("legend",null,"Email"),s.a.createElement("input",{type:"text",value:this.state.email,onChange:this.handleChange,name:"email"}),s.a.createElement("legend",null,"City"),s.a.createElement("input",{type:"text",value:this.state.city,onChange:this.handleChange,name:"city"}),s.a.createElement("div",{className:"bottom-of-signup"},s.a.createElement("legend",null,"Which account would you like to create?"),s.a.createElement("div",{class:"switch"},s.a.createElement("label",null,"Newbie (To get acquainted)",s.a.createElement("input",{onClick:function(t){return e.handleAcquaintance(t)},type:"checkbox"}),s.a.createElement("span",{class:"lever"}),"Acquaintance (To become a host)")),s.a.createElement("div",{class:"center-align"},s.a.createElement("button",{class:"btn waves-effect waves-light form-button"},"Sign up!"))))}}]),t}(n.Component),w=(a(206),a(100)),N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={usernameInput:"",passwordInput:""},a.service=new f,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"container-fluid center-align"},s.a.createElement("div",{id:"homepage-header",className:"row"}),s.a.createElement("div",{id:"header-content"},s.a.createElement("h3",{id:"header-text"},"Welcome To Acquainted."),s.a.createElement("a",null,s.a.createElement("h5",null,"Where becoming acquainted is made ",s.a.createElement("b",null,"easy")))),s.a.createElement("div",{className:"container about-acquainted"},s.a.createElement("div",{id:"aboutus",className:"row acquainted-steps"},s.a.createElement("h2",null,"How to use our service"),s.a.createElement("div",{className:"col s12 m6"},s.a.createElement("div",{className:"card aboutus-cards"},s.a.createElement("div",{class:"card-image"},s.a.createElement("img",{src:"images/aboutus1.png"})),s.a.createElement("div",{class:"card-content"},s.a.createElement("p",null,"Just enter a few credentials and the city you are moving to, we will take care of the rest")),s.a.createElement(d.b,{exact:!0,to:"/account/login"},"Log in")," or ",s.a.createElement(d.b,{exact:!0,to:"/account/signup"},"Sign up"))),s.a.createElement("div",{className:"col s12 m6"},s.a.createElement("div",{className:"card aboutus-cards"},s.a.createElement("div",{className:"card-image"},s.a.createElement("img",{src:"images/smartmockup-desktop.jpg"})),s.a.createElement("div",{className:"card-content desktop"},s.a.createElement("p",null,"Visit your profile, where you can edit your photo or view your favorite events and locations")))),s.a.createElement("div",{className:"col s12 m6"},s.a.createElement("div",{className:"card aboutus-cards"},s.a.createElement("div",{className:"card-image"},s.a.createElement("img",{src:"images/smartmockup-phone.jpg"})),s.a.createElement("div",{className:"card-content desktop"},s.a.createElement("p",null,"Head to the dashboard to view the most popular places and upcoming events in your city")))),s.a.createElement("div",{className:"col s12 m6"},s.a.createElement("div",{className:"card aboutus-cards"},s.a.createElement("div",{className:"card-image"},s.a.createElement("img",{src:"images/smartmockup-ipad.jpg"})),s.a.createElement("div",{className:"card-content desktop"},s.a.createElement("p",null,"View an events details to attend, along with the locations informations and discussion board")))))))}}]),t}(n.Component),C=a(8),O=a.n(C),j=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={signup:!1,login:!1,stopReload:!1},a.service=new f,a.checker=function(e){console.log(a.state);var t,n=a.props.match.params.option;a.state&&!a.state.stopReload&&a.setState((t={},Object(E.a)(t,n,!0),Object(E.a)(t,"stopReload",!0),t),function(){console.log(a.state)});return a.state.login?s.a.createElement(b,Object.assign({},a.props,{getUser:a.props.getUser})):a.state.signup?s.a.createElement(y,Object.assign({},a.props,{getUser:a.props.getUser})):void 0},a.componentDidMount=function(){var e=document.querySelectorAll(".tabs");O.a.Tabs.init(e,{})},a.toggle=function(e){"login"===e.target.name&&0==a.state.login?a.setState({login:!0,signup:!1}):"signup"===e.target.name&&0==a.state.signup&&a.setState({login:!1,signup:!0})},a.renderButtons=function(){return"login"===a.props.match.params.option?s.a.createElement("ul",{class:"tabs login-tabs"},s.a.createElement("li",{class:"tab col s6"},s.a.createElement("a",{name:"login",className:"active",onClick:a.toggle},"Log in")),s.a.createElement("li",{class:"tab col s6"},s.a.createElement("a",{name:"signup",onClick:a.toggle},"Sign up"))):s.a.createElement("ul",{class:"tabs login-tabs"},s.a.createElement("li",{class:"tab col s6"},s.a.createElement("a",{name:"login",onClick:a.toggle},"Log in")),s.a.createElement("li",{class:"tab col s6"},s.a.createElement("a",{name:"signup",className:"active",onClick:a.toggle},"Sign up")))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"user-form-body"},s.a.createElement("div",{className:"row form-content"},this.renderButtons(),this.checker()))))}}]),t}(n.Component),k=(a(118),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={},a.service=new f,a.loadCity=function(e){var t=e;return a.props.user.cityPlaces[t].results.map(function(e){var t="";e.types.forEach(function(e){t+=e+", "});var a=t.substr(0,t.length-2);return s.a.createElement("div",{class:"col s12"},s.a.createElement("div",{class:"card horizontal"},s.a.createElement("div",{class:"card-stacked"},s.a.createElement("div",{class:"card-content card-places"},s.a.createElement("h5",null,e.name),s.a.createElement("p",null,e.vicinity),s.a.createElement("p",null,"Rating: ",e.rating," | (",e.user_ratings_total," reviews)"),s.a.createElement("p",null,"Categories: ",a)),s.a.createElement("div",{class:"card-action center-align"},s.a.createElement(d.b,{className:"details-link",exact:!0,to:"/details/".concat(e.place_id)},"Details")))))})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.ready?s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12 m5 offset-m1 categories"},s.a.createElement("h2",null,"Restaurants"),this.loadCity("restaurants")),s.a.createElement("div",{className:"col s12 m5 offset-m1 categories"},s.a.createElement("h2",null,"Lodging"),this.loadCity("lodging")),s.a.createElement("div",{className:"col s12 m5 offset-m1 categories"},s.a.createElement("h2",null,"Health"),this.loadCity("doctors")),s.a.createElement("div",{className:"col s12 m5 offset-m1 categories"},s.a.createElement("h2",null,"Bars"),this.loadCity("bars")),s.a.createElement("div",{className:"col s12 m5 offset-m1 categories"},s.a.createElement("h2",null,"Leisure"),this.loadCity("leisure")),s.a.createElement("div",{className:"col s12 m5 offset-m1 categories"},s.a.createElement("h2",null,"Government"),this.loadCity("government")),s.a.createElement("div",{className:"col s12 m5 offset-m1 categories"},s.a.createElement("h2",null,"Fitness"),this.loadCity("gym")),s.a.createElement("div",{className:"col s12 m5 offset-m1 categories"},s.a.createElement("h2",null,"Shopping"),this.loadCity("shopping")),s.a.createElement("div",{className:"col s12 m5 offset-m1 categories"},s.a.createElement("h2",null,"Banks"),this.loadCity("banks")))):s.a.createElement("h1",null,"Loading")}}]),t}(n.Component)),S=a(19),q=a.n(S),A=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={events:null,stopReload:!1},a.service=new f,a.showEvents=function(){return 0!==a.state.events.data.length?a.state.events.data.map(function(e){return s.a.createElement("div",null,s.a.createElement("div",{class:"col s12 m4"},s.a.createElement("div",{class:"card horizontal"},s.a.createElement("div",{class:"card-stacked"},s.a.createElement("div",{class:"card-content card-places"},s.a.createElement("h4",null,e.title),s.a.createElement("h6",null,"At: ",e.location.name),s.a.createElement("h6",null,"By: ",e.owner.name),s.a.createElement("p",null,e.description),s.a.createElement(q.a,{format:"MM/DD/YYYY hh:mm a"},e.time)),s.a.createElement("div",{class:"card-action center-align"},s.a.createElement(d.b,{className:"details-link",events:a.state.events,exact:!0,to:"/eventDetails/".concat(e._id)},"Details"))))))}):s.a.createElement("h1",null,"No events yet :(")},a.getEvents=function(){a.state.stopReload||v.a.get("".concat("/api","/events/getEvents/").concat(a.props.user._id)).then(function(e){console.log(e.data),a.setState({events:e,stopReload:!0})}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.ready?s.a.createElement("div",null,s.a.createElement("div",{id:"events-for-user",className:"row"},this.getEvents(),this.state.events&&this.showEvents(),!this.state.events&&s.a.createElement("div",{id:"loading-events"},s.a.createElement("img",{width:"400px",src:"/images/preloader.gif"})))):s.a.createElement("div",{id:"loading-events"},"Loading")}}]),t}(n.Component),D=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={places:!0,events:!1,stopReload:!1,searchResults:[],currentSearch:""},a.service=new f,a.componentDidMount=function(){var e=document.querySelectorAll(".tabs"),t=(O.a.Tabs.init(e,{}),["/images/city-3.jpg","/images/city-header1.jpg","/images/city-header2.jpeg","/images/city-temp.jpg","/images/cityheader3.jpeg","/images/image-use.jpg"]),a=t[Math.floor(Math.random()*t.length)];document.getElementById("dashboard-header").style.backgroundImage="url(".concat(a,")")},a.componentDidUpdate=function(){var e=document.querySelectorAll(".tabs");O.a.Tabs.init(e,{})},a.showResults=function(){return a.state.searchResults.map(function(e){return s.a.createElement(d.b,{exact:!0,to:"/details/".concat(e.place_id)},s.a.createElement("h6",{className:"eachResult"},e.description))})},a.search=function(e){a.props.user?a.setState({currentSearch:e.target.value},function(){v.a.post("".concat("/api","/places/query"),{input:a.state.currentSearch,user:a.props.user}).then(function(e){a.setState({searchResults:e.data.predictions})})}):a.props.history.push("/account/login")},a.checker=function(e){return console.log(a.state),a.state&&(a.state.stopReload||a.setState({stopReload:!0})),a.state.places?s.a.createElement(k,Object.assign({},a.props,{getUser:a.props.getUser})):a.state.events?s.a.createElement(A,Object.assign({ready:a.props.ready},a.props,{getUser:a.props.getUser})):void 0},a.toggle=function(e){"places"===e.target.name&&!1===a.state.places?a.setState({places:!0,events:!1}):"events"===e.target.name&&!1===a.state.events&&a.setState({places:!1,events:!0})},a.renderButtons=function(){return s.a.createElement("ul",{class:"tabs login-tabs"},s.a.createElement("li",{class:"tab col s6"},s.a.createElement("a",{name:"places",className:"active",onClick:a.toggle},"Places in your city")),s.a.createElement("li",{class:"tab col s6"},s.a.createElement("a",{name:"events",onClick:a.toggle},"Events in your city")))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"row",id:"dashboard-header"}),s.a.createElement("div",{className:"border"}),this.props.ready&&s.a.createElement("div",null,s.a.createElement("div",{id:"cityname-dahsboard"},s.a.createElement("h3",{id:"cityname-text"},this.props.user.acquaintedCity)),s.a.createElement("div",{className:"container content-of-dashboard"},s.a.createElement("div",{className:"row"},s.a.createElement("div",null,s.a.createElement("input",{placeholder:"Search for anything in your city",className:"search-bar",onChange:this.search}),this.state.currentSearch&&s.a.createElement("div",{className:"left-align results-search"},this.showResults())),s.a.createElement("div",null,this.renderButtons(),this.checker())))),!this.props.ready&&s.a.createElement("h1",null,"Loading"))}}]),t}(n.Component),I=(a(119),a(213),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={details:null,stopReload:!1,favorited:!1,updated:!1},a.service=new f,a.getDetails=function(){if(console.log("hi"),!a.state.stopReload||a.props.readyToUpdate)if(a.props.match){var e=a.props.match.params.id;a.props.getUser(),a.props.user?v.a.post("".concat("/api","/places/placeDetails/").concat(e),{user_id:a.props.user._id},{withCredentials:!0}).then(function(e){a.setState({details:e.data.place,favorited:e.data.isFavorited,stopReload:!0})}).catch(function(e){console.log(e)}):a.props.history.push("/account/login")}else{var t=a.props.placeDetailsId;a.props.getUser(),a.props.user?v.a.post("".concat("/api","/places/placeDetails/").concat(t),{user_id:a.props.user._id},{withCredentials:!0}).then(function(e){a.setState({details:e.data.place,favorited:e.data.isFavorited,stopReload:!0,updated:!0})}).catch(function(e){console.log(e)}):a.props.history.push("/account/login")}},a.showHours=function(){if(a.state.details.hours)return a.state.details.hours.map(function(e){return s.a.createElement("p",null,e)})},a.getReviews=function(){if(a.state.details.reviews)return a.state.details.reviews.map(function(e){return s.a.createElement("div",{className:"col s12 m5 eachReview"},s.a.createElement("div",{className:"center-align"},s.a.createElement("img",{src:e.profile_photo_url,width:"25%",className:"profile-pic-review",alt:"profile picture"})),s.a.createElement("p",null,"By: ",e.author_name),s.a.createElement("p",null,"Rating: ",e.rating," |"," ",e.relative_time_description),s.a.createElement("p",null,e.text))})},a.imageCarousel=function(){if(a.state.details.photos)return console.log(a.state.details.photos),s.a.createElement(w.Carousel,null,s.a.createElement("div",null,s.a.createElement("img",{src:a.state.details.photos[0],height:"250px",alt:"no photo available"})),s.a.createElement("div",null,s.a.createElement("img",{src:a.state.details.photos[1],height:"250px",alt:"no photo available"})),s.a.createElement("div",null,s.a.createElement("img",{src:a.state.details.photos[2],height:"250px",alt:"no photo available"})))},a.addToFavorites=function(){a.props.getUser(),a.props.user?v.a.post("".concat("/api","/places/addToFavoritePlaces/").concat(a.state.details._id),{favorited:a.state.favorited},{withCredentials:!0}).then(function(e){console.log(e),a.props.getUser(),a.setState({favorited:!a.state.favorited})}):a.props.history.push("/")},a.showDetails=function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"col s12 m6"},s.a.createElement("h2",null,a.state.details.name),s.a.createElement("h5",null,a.state.details.address),s.a.createElement("h5",null,a.state.details.phone),s.a.createElement("h5",null,"Hours: "),a.showHours(),s.a.createElement("a",{href:a.state.details.website,rel:"noopener noreferrer",target:"_blank"},"Link to their website"),s.a.createElement("br",null),!a.state.favorited&&s.a.createElement("button",{className:"btn waves-effect waves-light addFavoritesButton",onClick:a.addToFavorites},"Add to favorites"),a.state.favorited&&s.a.createElement("button",{className:"btn waves-effect waves-light favoritedButton",onClick:a.addToFavorites},"Favorited")),s.a.createElement("div",{id:"details-carousel",className:"col s12 m6"},a.imageCarousel()),s.a.createElement("div",{className:"col s12"},s.a.createElement("h4",null,"Reviews"),s.a.createElement("p",null,"Rating avg: ",a.state.details.rating,"/5 | Price:"," ",a.state.details.price_level,"/4")),s.a.createElement("div",{id:"place-reviews",className:"col s12"},a.getReviews()))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getDetails()}},{key:"componentDidUpdate",value:function(){this.getDetails()}},{key:"render",value:function(){return this.props.ready?s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},this.state.details&&this.showDetails())):s.a.createElement("h1",null,"Loading")}}]),t}(n.Component)),P=(a(214),a(215),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={title:a.props.eventdetails.title,description:a.props.eventdetails.description,time:a.props.eventdetails.time,location:a.props.eventdetails.location.name},a.service=new f,a.componentDidMount=function(){var e=document.querySelectorAll(".modal");O.a.Modal.init(e,{}),e=document.querySelectorAll("select"),O.a.FormSelect.init(e,{})},a.handleChange=function(e){e.preventDefault(),a.setState(Object(E.a)({},e.target.name,e.target.value))},a.showLocationOptions=function(){return a.props.user.favoritePlaces.map(function(e){return s.a.createElement("option",{value:e.name},e.name)})},a.submitEditForm=function(e){console.log("hi"),e.preventDefault();var t=a.state.title,n=a.state.description,s=a.state.location,l=a.state.time;v.a.post("".concat("/api","/events/editEvent/").concat(a.props.eventdetails._id),{title:t,description:n,location:s,time:l},{withCredentials:!0}).then(function(e){console.log(e),a.props.updateUser(e)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){this.state.time.substring(0,this.state.time.length-1);return s.a.createElement("div",null,s.a.createElement("div",{id:"editEventModal",class:"modal"},s.a.createElement("div",{class:"modal-content"},s.a.createElement("h4",null,"Create Event"),s.a.createElement("form",{id:"edit-event-form",onSubmit:this.submitEditForm},s.a.createElement("legend",null,"Title"),s.a.createElement("input",{type:"text",onChange:this.handleChange,value:this.state.title,name:"title"}),s.a.createElement("legend",null,"Location"),s.a.createElement("select",{onChange:this.handleChange,name:"location"},s.a.createElement("option",{value:this.state.location,disabled:!0,selected:!0},this.state.location),this.showLocationOptions()),s.a.createElement("legend",null,"Date & Time"),s.a.createElement("legend",null,"Current time:  ",s.a.createElement(q.a,{format:"MM/DD/YYYY hh:mm a"},this.state.time)),s.a.createElement("input",{onChange:this.handleChange,type:"datetime-local",name:"time"}),s.a.createElement("legend",null,"Description"),s.a.createElement("input",{value:this.state.description,onChange:this.handleChange,type:"text",name:"description"}),s.a.createElement("button",{class:"modal-close waves-effect submit-changes btn"},"Submit")))))}}]),t}(n.Component)),U=(a(216),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).service=new f,a.componentDidMount=function(){var e=document.querySelectorAll(".modal");O.a.Modal.init(e,{})},a.confirmDelete=function(){v.a.post("".concat("/api","/events/deleteEvent/").concat(a.props.eventdetails._id),{},{withCredentials:!0}).then(function(e){console.log(a.props),a.props.redirect()})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{id:"deleteEventModal",class:"modal"},s.a.createElement("div",{class:"modal-content"},s.a.createElement("h3",{id:"delete-event-form"},"Are you sure you would like to delete this event?"),s.a.createElement("div",{className:"buttons-container-delete"},s.a.createElement("button",{className:"btn waves-effect waves-light modal-close delete-buttons"},"No"),s.a.createElement("button",{onClick:this.confirmDelete,className:"btn waves-effect modal-close waves-light delete-buttons"},"Yes")))))}}]),t}(n.Component)),x=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={eventdetails:null,stopReload:!1,attending:!1,acquaintance:!0,listOfAttendees:!1,discussion:!1,message:"",isOwner:!1,updatedLocation:!1},a.service=new f,a.componentDidMount=function(){var e=document.querySelectorAll(".tabs"),t=(O.a.Tabs.init(e,{}),document.querySelectorAll(".modal"));O.a.Modal.init(t,{})},a.componentDidUpdate=function(){var e=document.querySelectorAll(".tabs"),t=(O.a.Tabs.init(e,{}),document.querySelectorAll(".modal"));O.a.Modal.init(t,{})},a.attend=function(){a.props.getUser(),a.props.user?(console.log(a.state.eventdetails._id),v.a.post("".concat("/api","/events/attendEvent"),{eventId:a.state.eventdetails._id,attending:a.state.attending},{withCredentials:!0}).then(function(e){console.log(e),a.props.getUser(),a.setState({attending:!a.state.attending,eventdetails:e.data})})):a.props.history.push("/")},a.showParticipants=function(){if(console.log(a.state.eventdetails.discussion),a.state.eventdetails.discussion.participants)return a.state.eventdetails.discussion.participants.map(function(e){return s.a.createElement("div",{className:"user-participants left-align"},s.a.createElement(d.b,{exact:!0,to:"/userProfile/".concat(e._id)},"@",e.username))})},a.toggle=function(e){"acquaintance"===e.target.name&&!1===a.state.acquaintance?a.setState({acquaintance:!0,listOfAttendees:!1,discussion:!1}):"listOfAttendees"===e.target.name&&!1===a.state.listOfAttendees?a.setState({acquaintance:!1,listOfAttendees:!0,discussion:!1}):"discussion"===e.target.name&&!1===a.state.discussion&&a.setState({acquaintance:!1,listOfAttendees:!1,discussion:!0})},a.eventOptions=function(){return s.a.createElement("ul",{class:"tabs event-tabs"},s.a.createElement("li",{class:"tab col s4"},s.a.createElement("a",{name:"acquaintance",className:"active",onClick:a.toggle},"Acquaintance")),s.a.createElement("li",{class:"tab col s4"},s.a.createElement("a",{name:"listOfAttendees",onClick:a.toggle},"Attendees")),s.a.createElement("li",{class:"tab col s4"},s.a.createElement("a",{name:"discussion",onClick:a.toggle},"Discussion")))},a.showMessages=function(){return a.state.eventdetails.discussion.messages.length>0?a.state.eventdetails.discussion.messages.map(function(e){return e.createdBy._id===a.props.user._id?s.a.createElement("div",{className:"chat-container"},s.a.createElement("div",{className:"chat-info-reverse"},s.a.createElement("i",null,s.a.createElement("p",{className:"user-message-name"},"By: ",e.createdBy.username)),s.a.createElement(q.a,{format:"MM/DD/YYYY"},e.createdAt)),s.a.createElement("div",{className:"chat-content-reverse"},s.a.createElement("img",{className:"chat-image",src:e.createdBy.profileImg}),s.a.createElement("p",{className:"other-user-message-content"},e.body))):s.a.createElement("div",{className:"chat-container"},s.a.createElement("div",{className:"chat-info valign-center"},s.a.createElement("i",null,s.a.createElement("p",{className:"user-message-name"},"By: ",e.createdBy.username)),s.a.createElement(q.a,{format:"MM/DD/YYYY"},e.createdAt)),s.a.createElement("div",{className:"chat-content"},s.a.createElement("img",{className:"chat-image",src:e.createdBy.profileImg}),s.a.createElement("p",{className:"other-user-message-content"},e.body)))}):s.a.createElement("h3",null,"No messages yet, post something!")},a.handleMessage=function(e){a.setState({message:e.target.value})},a.sendMessage=function(e){e.preventDefault(),v.a.post("".concat("/api","/events/postToForum/").concat(a.state.eventdetails._id),{message:a.state.message},{withCredentials:!0}).then(function(e){console.log(e),a.setState({message:"",eventdetails:e.data})})},a.clickedInfo=function(){return a.state.acquaintance?s.a.createElement("div",null,s.a.createElement("img",{className:"acquaintance-img",src:a.state.eventdetails.owner.profileImg}),s.a.createElement("h4",null,"Name: ",a.state.eventdetails.owner.name,"  ",s.a.createElement(d.b,{exact:!0,to:"/userProfile/".concat(a.state.eventdetails.owner._id)},"(@",a.state.eventdetails.owner.username,")")),s.a.createElement("h5",null,"From: ",a.state.eventdetails.owner.acquaintedCity)):a.state.listOfAttendees?a.state.eventdetails.attendees[0]?a.state.eventdetails.attendees.map(function(e){return s.a.createElement("div",{className:"left-align"},s.a.createElement("h6",null," - ",e.name," (@",e.username,")"))}):s.a.createElement("h1",null,"Nobody is attending yet!"):a.state.discussion?s.a.createElement("div",{className:"col s12 message-box"},s.a.createElement("div",{className:"left-align col s12 m3"},s.a.createElement("h5",null,"Participants"),a.showParticipants()),s.a.createElement("div",{className:"col s12 m9",id:"chat-box"},a.showMessages(),s.a.createElement("form",{className:"message-input-and-button",onSubmit:a.sendMessage},s.a.createElement("input",{value:a.state.message,type:"text",name:"message",onChange:a.handleMessage}),s.a.createElement("button",{className:"messageButton"},"Send")))):void 0},a.redirect=function(){console.log("attempted redirect"),a.props.history.push("/profile")},a.renderLocation=function(e){return a.state.updatedLocation?(console.log(e),s.a.createElement(I,{getUser:a.props.getUser,user:a.props.user,ready:a.props.ready,placeDetailsId:e.data.location.placeId})):s.a.createElement(I,{getUser:a.props.getUser,user:a.props.user,ready:a.props.ready,placeDetailsId:a.state.eventdetails.location.placeId})},a.showEventDetails=function(){return console.log("working"),s.a.createElement("div",null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"event-details valign-center"},s.a.createElement("h2",null,a.state.eventdetails.title),s.a.createElement(q.a,{format:"MM/DD/YYYY hh:mm a"},a.state.eventdetails.time),s.a.createElement("p",null,"Event details: ",a.state.eventdetails.description),s.a.createElement("div",{className:"eventButtons"},!a.state.attending&&s.a.createElement("button",{className:"btn waves-effect waves-light attendButton",onClick:a.attend},"Attend Event"),a.state.attending&&s.a.createElement("button",{className:"btn waves-effect waves-light attendingButton",onClick:a.attend},"Attending"),a.state.isOwner&&s.a.createElement("a",{class:"waves-effect waves-light btn modal-trigger attendButton",href:"#editEventModal"},"Edit Event"),a.state.isOwner&&s.a.createElement("a",{className:"btn waves-effect waves-light modal-trigger attendButton",href:"#deleteEventModal"},"Cancel Event")),s.a.createElement(P,{updateLocation:a.renderLocation,updateUser:a.getEventDetails,user:a.props.user,eventdetails:a.state.eventdetails}),s.a.createElement(U,{redirect:a.redirect,updateLocation:a.renderLocation,updateUser:a.getEventDetails,user:a.props.user,eventdetails:a.state.eventdetails}))),s.a.createElement("div",{className:"row"},a.eventOptions(),a.clickedInfo())),s.a.createElement("h4",null,"Location Details"))},a.getEventDetails=function(e){a.state.stopReload&&void 0===e||(e&&a.setState({updatedLocation:!0}),a.props.getUser(),a.props.user?v.a.post("".concat("/api","/events/getSingleEvent/").concat(a.props.match.params.id),{user_id:a.props.user._id},{withCredentials:!0}).then(function(e){console.log("------------",e),!0===e.data.attending?e.data.event.owner._id===a.props.user._id?a.setState({eventdetails:e.data.event,stopReload:!0,attending:!0,isOwner:!0}):a.setState({eventdetails:e.data.event,stopReload:!0,attending:!0}):a.setState({eventdetails:e.data.event,stopReload:!0})}).catch(function(e){console.log(e)}):a.props.history.push("/account/login"))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.ready?s.a.createElement("div",null,s.a.createElement("div",{id:"events-for-user",className:"row"},this.getEventDetails(),this.state.eventdetails&&this.showEventDetails(),this.state.eventdetails&&s.a.createElement(I,{getUser:this.props.getUser,user:this.props.user,ready:this.props.ready,placeDetailsId:this.state.eventdetails.location.placeId}))):s.a.createElement("h1",null,"Loading")}}]),t}(n.Component),L=(a(120),a(217),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={username:a.props.user.username,city:a.props.user.acquaintedCity,email:a.props.user.email,name:a.props.user.name,isAcquaintance:a.props.user.isAcquaintance,description:a.props.user.profileDescription,userImage:null},a.service=new f,a.componentDidMount=function(){var e=document.querySelectorAll(".modal");O.a.Modal.init(e,{})},a.handleChange=function(e){e.preventDefault(),a.setState(Object(E.a)({},e.target.name,e.target.value))},a.handlePicture=function(e){console.log(e.target),a.setState({userImage:e.target.files[0]})},a.submitEditForm=function(e){e.preventDefault(),console.log(a.state.userImage);var t=a.state.username,n=a.state.email,s=a.state.name,l=a.state.city,r=a.state.isAcquaintance,c=a.state.description,i=(a.state.userImage,new FormData);i.append("username",t),i.append("email",n),i.append("name",s),i.append("city",l),i.append("isAcquaintance",r),i.append("description",c),i.append("userImg",a.state.userImage),v.a.post("".concat("/api","/user/editProfile"),i,{withCredentials:!0}).then(function(e){console.log(e),a.props.updateUser(e)})},a.setInput=function(e){a.imageInput=e},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleAcquaintance",value:function(e){this.state.isAcquaintance?this.setState({isAcquaintance:!1}):this.setState({isAcquaintance:!0})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{id:"editPorfileModal1",class:"modal"},s.a.createElement("div",{class:"modal-content"},s.a.createElement("h4",null,"Edit Profile"),s.a.createElement("form",{onSubmit:this.submitEditForm},s.a.createElement("legend",null,"Name"),s.a.createElement("input",{type:"text",value:this.state.name,onChange:this.handleChange,name:"name"}),s.a.createElement("legend",null,"Username"),s.a.createElement("input",{type:"text",value:this.state.username,onChange:this.handleChange,name:"username"}),s.a.createElement("legend",null,"Email"),s.a.createElement("input",{type:"text",value:this.state.email,onChange:this.handleChange,name:"email"}),s.a.createElement("legend",null,"City"),s.a.createElement("input",{type:"text",value:this.state.city,onChange:this.handleChange,name:"city"}),s.a.createElement("legend",null,"Profile Description"),s.a.createElement("input",{type:"text",value:this.state.description,onChange:this.handleChange,name:"description"}),s.a.createElement("legend",null,"Upload an image"),s.a.createElement("input",{type:"file",onChange:this.handlePicture,name:"userImage"}),s.a.createElement("legend",null,"Acquaintance"),!this.state.isAcquaintance&&s.a.createElement("div",{class:"switch"},s.a.createElement("label",null,"Newbie (To get acquainted)",s.a.createElement("input",{onClick:function(t){return e.handleAcquaintance(t)},type:"checkbox"}),s.a.createElement("span",{class:"lever"}),"Acquaintance (To become a host)")),this.state.isAcquaintance&&s.a.createElement("div",{class:"switch"},s.a.createElement("label",null,"Newbie (To get acquainted)",s.a.createElement("input",{onClick:function(t){return e.handleAcquaintance(t)},type:"checkbox",checked:!0}),s.a.createElement("span",{class:"lever"}),"Acquaintance (To become a host)")),s.a.createElement("button",{class:"modal-close waves-effect submit-changes btn"},"Submit")))))}}]),t}(n.Component)),F=(a(218),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={title:"",time:"",description:"",location:""},a.service=new f,a.componentDidMount=function(){var e=document.querySelectorAll(".modal");O.a.Modal.init(e,{}),e=document.querySelectorAll("select"),O.a.FormSelect.init(e,{})},a.createEvent=function(e){console.log("hi"),e.preventDefault();var t=a.state.time,n=a.state.title,s=a.state.location,l=a.state.description;v.a.post("".concat("/api","/events/createEvent"),{time:t,title:n,location:s,description:l},{withCredentials:!0}).then(function(e){a.props.updateUser(e)})},a.handleChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value)),console.log(a.state)},a.showLocationOptions=function(){return a.props.user.favoritePlaces.map(function(e){return s.a.createElement("option",{value:e.name},e.name)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{id:"createEventModal",class:"modal"},s.a.createElement("div",{class:"modal-content"},s.a.createElement("h4",null,"Create Event"),s.a.createElement("form",{onSubmit:this.createEvent},s.a.createElement("legend",null,"Title"),s.a.createElement("input",{type:"text",onChange:this.handleChange,name:"title"}),s.a.createElement("legend",null,"Location"),s.a.createElement("select",{onChange:this.handleChange,name:"location"},s.a.createElement("option",{value:"",disabled:!0,selected:!0},"Choose your Location"),this.showLocationOptions()),s.a.createElement("legend",null,"Date & Time"),s.a.createElement("input",{onChange:this.handleChange,type:"datetime-local",name:"time"}),s.a.createElement("legend",null,"Description"),s.a.createElement("input",{onChange:this.handleChange,type:"text",name:"description"}),s.a.createElement("button",{id:"eventBtn",class:"modal-close waves-effect submit-changes btn"},"Submit")))))}}]),t}(n.Component)),M=(a(219),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=a(76),n=t.compose,l=t.withProps,r=(t.lifecycle,t.withStateHandlers),c=a(221),i=c.withScriptjs,o=c.withGoogleMap,m=c.GoogleMap,u=c.Marker,p=c.InfoWindow,g=n(l({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBht5Low4uRnWs5MUcGoBnE3nvcG31AxUU&v=3.exp&libraries=geometry,drawing,places",loadingElement:s.a.createElement("div",{style:{height:"100%"}}),containerElement:s.a.createElement("div",{style:{height:"400px"}}),mapElement:s.a.createElement("div",{className:"map",style:{height:"100%"}})}),r(function(){return{isOpen:!1,infoIndex:-1,event:null,name:null}},{onToggleOpen:function(e){var t=e.isOpen;return function(e,a,n){return{isOpen:!t,infoIndex:a,event:e,name:n}}}}),i,o)(function(t){return s.a.createElement(m,{defaultZoom:12,defaultCenter:new window.google.maps.LatLng(e.props.lat,e.props.lng)},e.props.user.favoritePlaces.map(function(e,a){return s.a.createElement(u,{icon:"http://maps.google.com/mapfiles/ms/icons/red.png",key:e._id,title:e.name,name:e.name,position:{lat:e.lat,lng:e.lng},onClick:function(n){return t.onToggleOpen(n,a,e.name)}},t.isOpen&&t.infoIndex===a&&t.name==e.name&&s.a.createElement(p,{onCloseClick:t.onToggleOpen,id:e._id,visible:!0},s.a.createElement("div",null,s.a.createElement("h5",null,"Favorited Location"),s.a.createElement(d.b,{exact:!0,to:"/details/".concat(e.placeId)},s.a.createElement("h6",null,e.name)),s.a.createElement("img",{width:"50%",src:e.photos[0]}))))}),e.props.user.upcomingEvents.map(function(e,a){return s.a.createElement(u,{icon:"http://maps.google.com/mapfiles/ms/icons/blue.png",key:a,title:e.location.name,name:e.location.name,position:{lat:e.location.lat,lng:e.location.lng},onClick:function(n){return t.onToggleOpen(n,a,e.location.name)}},t.isOpen&&t.infoIndex===a&&t.name==e.location.name&&s.a.createElement(p,{onCloseClick:t.onToggleOpen,id:a,visible:!0},s.a.createElement("div",null,s.a.createElement("h5",null,"Event Scheduled"),s.a.createElement("h6",null,e.title),s.a.createElement(d.b,{exact:!0,to:"/details/".concat(e.location.placeId)},s.a.createElement("h6",null,e.location.name)),s.a.createElement("img",{width:"50%",src:e.location.photos[0]}))))}))});return s.a.createElement(g,null)}}]),t}(s.a.Component)),R=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={stopReload:!1,userForProfile:null,acquaintance:!1,favorites:!0,upcomingEvents:!1,pastEvents:!1,username:"",city:"",email:"",name:"",lat:null,lng:null,loaded:!1,loading:!1},a.service=new f,a.componentDidMount=function(){var e=document.querySelectorAll(".tabs"),t=(O.a.Tabs.init(e,{}),document.querySelectorAll(".modal"));O.a.Modal.init(t,{});a.getLatLng()},a.componentDidUpdate=function(){var e=document.querySelectorAll(".tabs"),t=(O.a.Tabs.init(e,{}),document.querySelectorAll(".modal"));O.a.Modal.init(t,{})},a.showGif=function(){return s.a.createElement("div",null,s.a.createElement("div",{id:"profile-loader"},s.a.createElement("img",{width:"400px",src:"/images/preloader.gif"})))},a.getLatLng=function(){v.a.post("".concat("/api","/user/latlng"),{},{withCredentials:!0}).then(function(e){console.log(e),a.setState({lat:e.data.lat,lng:e.data.lng})})},a.toggle=function(e){"favorites"===e.target.name&&!1===a.state.favorites?a.setState({favorites:!0,upcomingEvents:!1,pastEvents:!1,loading:!0}):"upcomingEvents"===e.target.name&&!1===a.state.upcomingEvents?a.setState({favorites:!1,upcomingEvents:!0,pastEvents:!1,loading:!0}):"pastEvents"===e.target.name&&!1===a.state.pastEvents&&a.setState({favorites:!1,upcomingEvents:!1,pastEvents:!0,loading:!0}),a.setIntervalForMap()},a.displayInfo=function(){return a.state.favorites?!a.state.userForProfile.favoritePlaces.length>0?s.a.createElement("h2",null,"No favorites yet :( Start exploring!"):a.state.userForProfile.favoritePlaces.map(function(e){return s.a.createElement("div",{className:"col s12 m6 l4"},s.a.createElement("div",{class:"card horizontal"},s.a.createElement("div",{class:"card-stacked"},s.a.createElement("div",{class:"card-content card-favorites"},s.a.createElement("h4",null,e.name),s.a.createElement("h6",null,e.address),s.a.createElement("h6",null,"Rating: ",e.rating,"/5")),s.a.createElement("div",{class:"card-action center-align"},s.a.createElement(d.b,{className:"details-link",exact:!0,to:"/details/".concat(e.placeId)},"Details")))))}):a.state.upcomingEvents?!a.state.userForProfile.upcomingEvents.length>0?s.a.createElement("h2",null,"No upcoming events yet :( Attend some!"):a.state.userForProfile.upcomingEvents.map(function(e){return s.a.createElement("div",{className:"col s12 m6 l4"},s.a.createElement("div",{class:"card horizontal"},s.a.createElement("div",{class:"card-stacked"},s.a.createElement("div",{class:"card-content card-favorites"},s.a.createElement("h4",null,e.title),s.a.createElement("h6",null,"At ",e.location.name),s.a.createElement(q.a,{format:"MM/DD/YYYY hh:mm a"},e.time),s.a.createElement("h6",null,e.description)),s.a.createElement("div",{class:"card-action center-align"},s.a.createElement(d.b,{className:"details-link",exact:!0,to:"/eventDetails/".concat(e._id)},"Details")))))}):a.state.pastEvents?!a.state.userForProfile.pastEvents.length>0?s.a.createElement("h2",null,"No past events yet :( Attend some!"):a.state.userForProfile.pastEvents.map(function(e){return s.a.createElement("div",{className:"col s12 m6 l4"},s.a.createElement("div",{class:"card horizontal"},s.a.createElement("div",{class:"card-stacked"},s.a.createElement("div",{class:"card-content card-favorites"},s.a.createElement("h4",null,e.title),s.a.createElement(q.a,{format:"MM/DD/YYYY hh:mm a"},e.time),s.a.createElement("h6",null,e.description)),s.a.createElement("div",{class:"card-action center-align"},s.a.createElement(d.b,{className:"details-link",exact:!0,to:"/eventDetails/".concat(e._id)},"Details")))))}):void 0},a.profileTabs=function(){return s.a.createElement("ul",{className:"tabs profile-tabs"},s.a.createElement("li",{class:"tab col s4"},s.a.createElement("a",{name:"favorites",className:"active",onClick:a.toggle},"Favorite Places")),s.a.createElement("li",{class:"tab col s4"},s.a.createElement("a",{name:"upcomingEvents",onClick:a.toggle},"Upcoming Events")),s.a.createElement("li",{class:"tab col s4"},s.a.createElement("a",{name:"pastEvents",onClick:a.toggle},"Past Events")))},a.getProfileInfo=function(e){a.state.stopReload?void 0!==e&&(e.data.updated.isAcquaintance?a.setState({userForProfile:e.data.updated,acquaintance:!0}):a.setState({userForProfile:e.data.updated,acquaintance:!1})):(a.props.getUser(),null!==a.props.user?!0===a.props.user.isAcquaintance?a.setState({stopReload:!0,userForProfile:a.props.user,acquaintance:!0,name:a.props.user.name,username:a.props.user.username,email:a.props.user.email,city:a.props.user.acquaintedCity}):a.setState({stopReload:!0,userForProfile:a.props.user,name:a.props.user.name,username:a.props.user.username,email:a.props.user.email,city:a.props.user.acquaintedCity}):a.props.history.push("/account/login"))},a.setIntervalForMap=function(){setTimeout(function(){a.setState({loading:!1})},500)},a.setIntervalForLoader=function(){setTimeout(function(){a.setState({loaded:!0,loading:!1})},1e3)},a.showInfo=function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"profile-header"},s.a.createElement("div",{className:"row all-profile-info"},!a.state.acquaintance&&s.a.createElement("h1",null,a.state.userForProfile.name),a.state.acquaintance&&s.a.createElement("div",{className:"acquaintance-box"},s.a.createElement("h1",null,a.state.userForProfile.name),s.a.createElement("img",{className:"acquaintance-logo",src:"/images/acquaintance-certified.png"}))),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row profile-top"},s.a.createElement("div",{className:"profile-column"},s.a.createElement("div",{className:"image-info-map valign-center"},s.a.createElement("img",{className:"profile-img",src:a.state.userForProfile.profileImg}),s.a.createElement("div",{className:"user-info-under-name left-align"},s.a.createElement("h6",null,a.state.userForProfile.profileDescription),s.a.createElement("h5",null,"@",a.state.userForProfile.username),s.a.createElement("h5",null,"Acquainted city: ",a.state.userForProfile.acquaintedCity))),s.a.createElement("div",{className:"buttons"},s.a.createElement("a",{class:"waves-effect waves-light btn modal-trigger editButton",href:"#editPorfileModal1"},"Edit Profile"),s.a.createElement("br",null),s.a.createElement(L,{updateUser:a.getProfileInfo,user:a.props.user}),a.state.acquaintance&&s.a.createElement("a",{class:"waves-effect waves-light btn modal-trigger editButton",href:"#createEventModal"},"Create Event"),s.a.createElement(F,{getUser:a.props.getUser,updateUser:a.getProfileInfo,user:a.props.user}))),s.a.createElement("div",{className:"col s12 m12 l7"},!a.state.loading&&s.a.createElement(M,{user:a.state.userForProfile,lat:a.state.lat,lng:a.state.lng}),a.state.loading&&a.showGif())))),s.a.createElement("div",{className:"row"})),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row profile-tabs"},a.profileTabs(),a.displayInfo())))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.ready?s.a.createElement("div",null,this.getProfileInfo(),!this.state.loaded&&this.setIntervalForLoader(),!this.state.loaded&&s.a.createElement("div",{id:"temp-div"},this.showGif()),this.state.userForProfile&&this.state.lat&&this.state.loaded&&this.showInfo()):s.a.createElement("h1",null,"Loading")}}]),t}(n.Component),T=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={stopReload:!1,userForProfile:null,acquaintance:!1,favorites:!0,upcomingEvents:!1,pastEvents:!1},a.service=new f,a.componentDidMount=function(){var e=document.querySelectorAll(".tabs");O.a.Tabs.init(e,{});a.getProfileInfo()},a.componentDidUpdate=function(){var e=document.querySelectorAll(".tabs");O.a.Tabs.init(e,{});a.getProfileInfo()},a.toggle=function(e){"favorites"===e.target.name&&!1===a.state.favorites?a.setState({favorites:!0,upcomingEvents:!1,pastEvents:!1}):"upcomingEvents"===e.target.name&&!1===a.state.upcomingEvents?a.setState({favorites:!1,upcomingEvents:!0,pastEvents:!1}):"pastEvents"===e.target.name&&!1===a.state.pastEvents&&a.setState({favorites:!1,upcomingEvents:!1,pastEvents:!0})},a.displayInfo=function(){return a.state.favorites?!a.state.userForProfile.favoritePlaces.length>0?s.a.createElement("h2",null,"No favorites yet :( Start exploring!"):a.state.userForProfile.favoritePlaces.map(function(e){return s.a.createElement("div",{className:"col s12 m6 l4"},s.a.createElement("div",{class:"card horizontal"},s.a.createElement("div",{class:"card-stacked"},s.a.createElement("div",{class:"card-content card-favorites"},s.a.createElement("h4",null,e.name),s.a.createElement("h6",null,e.address),s.a.createElement("h6",null,"Rating: ",e.rating,"/5")),s.a.createElement("div",{class:"card-action center-align"},s.a.createElement(d.b,{className:"details-link",exact:!0,to:"/details/".concat(e.placeId)},"Details")))))}):a.state.upcomingEvents?!a.state.userForProfile.upcomingEvents.length>0?s.a.createElement("h2",null,"No upcoming events yet :( Attend some!"):a.state.userForProfile.upcomingEvents.map(function(e){return s.a.createElement("div",{className:"col s12 m6 l4"},s.a.createElement("div",{class:"card horizontal"},s.a.createElement("div",{class:"card-stacked"},s.a.createElement("div",{class:"card-content card-favorites"},s.a.createElement("h4",null,e.title),s.a.createElement("h6",null,"At ",e.location.name),s.a.createElement(q.a,{format:"MM/DD/YYYY hh:mm a"},e.time),s.a.createElement("h6",null,e.description)),s.a.createElement("div",{class:"card-action center-align"},s.a.createElement(d.b,{className:"details-link",exact:!0,to:"/eventDetails/".concat(e._id)},"Details")))))}):a.state.pastEvents?!a.state.userForProfile.pastEvents.length>0?s.a.createElement("h2",null,"No past events yet :( Attend some!"):a.state.userForProfile.pastEvents.map(function(e){return s.a.createElement("div",{className:"col s12 m6 l4"},s.a.createElement("div",{class:"card horizontal"},s.a.createElement("div",{class:"card-stacked"},s.a.createElement("div",{class:"card-content card-favorites"},s.a.createElement("h4",null,e.title),s.a.createElement(q.a,{format:"MM/DD/YYYY hh:mm a"},e.time),s.a.createElement("h6",null,e.description)),s.a.createElement("div",{class:"card-action center-align"},s.a.createElement(d.b,{className:"details-link",exact:!0,to:"/eventDetails/".concat(e._id)},"Details")))))}):void 0},a.profileTabs=function(){return s.a.createElement("ul",{className:"tabs profile-tabs"},s.a.createElement("li",{class:"tab col s4"},s.a.createElement("a",{name:"favorites",className:"active",onClick:a.toggle},"Favorite Places")),s.a.createElement("li",{class:"tab col s4"},s.a.createElement("a",{name:"upcomingEvents",onClick:a.toggle},"Upcoming Events")),s.a.createElement("li",{class:"tab col s4"},s.a.createElement("a",{name:"pastEvents",onClick:a.toggle},"Past Events")))},a.getProfileInfo=function(){a.state.stopReload||(a.props.getUser(),a.props.user?v.a.get("".concat("/api","/user/otherUser/").concat(a.props.match.params.id)).then(function(e){console.log(e),!0===e.data.isAcquaintance?a.setState({stopReload:!0,userForProfile:e.data,acquaintance:!0}):a.setState({stopReload:!0,userForProfile:e.data}),console.log("worked")}):a.props.history.push("/account/login"))},a.showInfo=function(){return console.log(a.state.userForProfile),s.a.createElement("div",null,s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row profile-header"},s.a.createElement("div",{className:"all-profile-info"},!a.state.acquaintance&&s.a.createElement("h1",null,a.state.userForProfile.name),a.state.acquaintance&&s.a.createElement("div",{className:"acquaintance-box"},s.a.createElement("h1",null,a.state.userForProfile.name),s.a.createElement("img",{className:"acquaintance-logo",src:"/images/acquaintance-certified.png"})),s.a.createElement("div",{className:"image-info-map"},s.a.createElement("img",{className:"profile-img",src:a.state.userForProfile.profileImg}),s.a.createElement("div",{className:"user-info-under-name left-align"},s.a.createElement("h6",null,a.state.userForProfile.profileDescription),s.a.createElement("h5",null,"@",a.state.userForProfile.username),s.a.createElement("h5",null,"Acquainted city: ",a.state.userForProfile.acquaintedCity)))))),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row profile-tabs"},a.profileTabs(),a.displayInfo())))},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.ready?s.a.createElement("div",null,this.state.userForProfile&&this.showInfo()):s.a.createElement("h1",null,"Loading")}}]),t}(n.Component),_=(a(416),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("footer",{class:"footer"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row footer-row"},s.a.createElement("div",{class:"col s4"},s.a.createElement("ul",{class:"footer-list"},s.a.createElement("li",null,"Contact Us"),s.a.createElement("li",null,"Contribute"),s.a.createElement("li",null,"Careers"),s.a.createElement("li",null,"Privacy & Terms"),s.a.createElement("li",null,"Submit Feedback"))),s.a.createElement("div",{class:"col s8 center-align"},s.a.createElement("h5",null,"Created by: Sergio"),s.a.createElement("h5",null,"Check me out on ",s.a.createElement("a",{href:"https://github.com/sergiovelo17",target:"_blank"},s.a.createElement("span",{className:"underline"},"GitHub")),s.a.createElement("span",null,s.a.createElement("img",{src:"/images/GitHub-Mark-Light-32px.png"}))),s.a.createElement("h5",null,"and ",s.a.createElement("a",{href:"https://www.linkedin.com/in/svelikopoljski/",target:"_blank"},s.a.createElement("span",{className:"underline"},"LinkedIn"))," ",s.a.createElement("i",{id:"linked",class:"fab fa-linkedin"}))))))}}]),t}(n.Component)),Y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={userLoggedIn:null,ready:!1},a.service=new f,a.getCurrentlyLoggedInUser=function(){a.service.currentUser().then(function(e){console.log(e),a.setState({userLoggedIn:e,ready:!0})}).catch(function(){a.setState({userLoggedIn:null})})},a.logout=function(e){e.preventDefault(),a.service.logout().then(function(e){console.log(e),a.props.history.push("/"),a.setState({userLoggedIn:null})}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getCurrentlyLoggedInUser()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement(p,{logout:this.logout,ready:this.state.ready,user:this.state.userLoggedIn}),s.a.createElement(g.c,null,s.a.createElement(g.a,{exact:!0,path:"/",render:function(t){return s.a.createElement(N,Object.assign({},t,{getUser:e.getCurrentlyLoggedInUser,ready:e.state.ready}))}}),s.a.createElement(g.a,{exact:!0,path:"/profile",render:function(t){return s.a.createElement(R,Object.assign({},t,{getUser:e.getCurrentlyLoggedInUser,ready:e.state.ready,user:e.state.userLoggedIn}))}}),s.a.createElement(g.a,{exact:!0,path:"/account/:option",render:function(t){return s.a.createElement(j,Object.assign({},t,{getUser:e.getCurrentlyLoggedInUser,ready:e.state.ready}))}}),s.a.createElement(g.a,{exact:!0,path:"/dashboard",render:function(t){return s.a.createElement(D,Object.assign({},t,{getUser:e.getCurrentlyLoggedInUser,user:e.state.userLoggedIn,ready:e.state.ready}))}}),s.a.createElement(g.a,{exact:!0,path:"/userProfile/:id",render:function(t){return s.a.createElement(T,Object.assign({},t,{getUser:e.getCurrentlyLoggedInUser,user:e.state.userLoggedIn,ready:e.state.ready}))}}),s.a.createElement(g.a,{exact:!0,path:"/details/:id",render:function(t){return s.a.createElement(I,Object.assign({},t,{getUser:e.getCurrentlyLoggedInUser,user:e.state.userLoggedIn,ready:e.state.ready}))}}),s.a.createElement(g.a,{exact:!0,path:"/eventDetails/:id",render:function(t){return s.a.createElement(x,Object.assign({},t,{getUser:e.getCurrentlyLoggedInUser,user:e.state.userLoggedIn,ready:e.state.ready}))}}),s.a.createElement(g.a,{exact:!0,path:"/profile",render:function(t){return s.a.createElement(R,Object.assign({},t,{getUser:e.getCurrentlyLoggedInUser,user:e.state.userLoggedIn,ready:e.state.ready}))}})),s.a.createElement(_,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(d.a,null,s.a.createElement(g.a,{path:"/",component:Y})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},47:function(e,t,a){}},[[177,1,2]]]);
//# sourceMappingURL=main.af0e9efb.chunk.js.map