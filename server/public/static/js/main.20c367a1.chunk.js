(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},177:function(e,t,a){e.exports=a(413)},182:function(e,t,a){},183:function(e,t,a){},205:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},413:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(53),r=a.n(l),c=(a(182),a(1)),i=a(2),o=a(4),u=a(3),m=a(5),d=(a(104),a(183),a(6));var p=function(e){return s.a.createElement("div",{className:"App"},e.user&&s.a.createElement("nav",null,s.a.createElement("div",{className:"nav-wrapper acquainted-nav"},s.a.createElement(d.b,{exact:!0,to:"/"},s.a.createElement("img",{src:"/images/acquainted-logo1.png",width:"14%",className:"left acquainted-logo"})),s.a.createElement("ul",{id:"nav-mobile",class:"right hide-on-med-and-down"},s.a.createElement("li",null,s.a.createElement(d.b,{exact:!0,to:"/dashboard"},"Dashboard")),s.a.createElement("li",null,s.a.createElement("a",{href:"badges.html"},"Messages")),s.a.createElement("li",null,s.a.createElement(d.b,{exact:!0,to:"/profile"},"Profile")),s.a.createElement("li",null,s.a.createElement("a",{onClick:e.logout,href:"collapsible.html"},"Log out"))))),!e.user&&s.a.createElement("nav",null,s.a.createElement("div",{className:"nav-wrapper acquainted-nav"},s.a.createElement(d.b,{exact:!0,to:"/"},s.a.createElement("img",{src:"/images/acquainted-logo1.png",width:"14%",className:"left acquainted-logo"})),s.a.createElement("ul",{id:"nav-mobile",class:"right hide-on-med-and-down"},s.a.createElement("li",null,s.a.createElement("a",{href:"sass.html"},"About")),s.a.createElement("li",null,s.a.createElement(d.b,{exact:!0,to:"/account/login"},"Log in")),s.a.createElement("li",null,s.a.createElement(d.b,{exact:!0,to:"/account/signup"},"Sign up"))))))},g=a(32),h=a(8),E=a.n(h),v=a(25),f=(a(47),function e(){var t=this;Object(c.a)(this,e),this.login=function(e,a){return console.log("<<<<<<<<<<<<<reached here>>>>>>>>>>>>>>>"),t.service.post("/login",{username:e,password:a}).then(function(e){return e.data})},this.currentUser=function(){return t.service.get("/currentUser").then(function(e){return e.data})},this.signup=function(e,a,n,s,l,r){return t.service.post("/signup",{username:e,password:a,name:n,email:s,city:l,isAcquaintance:r}).then(function(e){return e.data})},this.logout=function(){return t.service.post("/logout").then(function(e){return e.data})};var a=E.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_AUTH_SERVICE_BASE_URL,withCredentials:!0});this.service=a}),b=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={usernameInput:"",passwordInput:""},a.service=new f,a.handleChange=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value))},a.submitLogin=function(e){e.preventDefault();var t=a.state.usernameInput,n=a.state.passwordInput;a.service.login(t,n).then(function(e){a.props.getUser(),a.props.history.push("/")})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("form",{onSubmit:this.submitLogin},s.a.createElement("legend",null,"Username"),s.a.createElement("input",{value:this.state.usernameInput,type:"text",onChange:this.handleChange,name:"usernameInput"}),s.a.createElement("legend",null,"Password"),s.a.createElement("input",{value:this.state.passwordInput,type:"text",onChange:this.handleChange,name:"passwordInput"}),s.a.createElement("div",{class:"center-align"},s.a.createElement("button",{id:"login-button",class:"btn waves-effect waves-light form-button"},"Log in"))))}}]),t}(n.Component),y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",password:"",city:"",email:"",name:"",isAcquaintance:!1},a.service=new f,a.handleChange=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value))},a.submitSignup=function(e){e.preventDefault();var t=a.state.username,n=a.state.password,s=a.state.email,l=a.state.name,r=a.state.city,c=a.state.isAcquaintance;return a.service.signup(t,n,l,s,r,c).then(function(e){a.props.getUser(),a.props.history.push("/")})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleAcquaintance",value:function(e){this.state.isAcquaintance?this.setState({isAcquaintance:!1}):this.setState({isAcquaintance:!0})}},{key:"render",value:function(){var e=this;return s.a.createElement("form",{onSubmit:this.submitSignup},s.a.createElement("legend",null,"Name"),s.a.createElement("input",{type:"text",value:this.state.name,onChange:this.handleChange,name:"name"}),s.a.createElement("legend",null,"Username"),s.a.createElement("input",{type:"text",value:this.state.username,onChange:this.handleChange,name:"username"}),s.a.createElement("legend",null,"Password"),s.a.createElement("input",{type:"text",value:this.state.password,onChange:this.handleChange,name:"password"}),s.a.createElement("legend",null,"Email"),s.a.createElement("input",{type:"text",value:this.state.email,onChange:this.handleChange,name:"email"}),s.a.createElement("legend",null,"City"),s.a.createElement("input",{type:"text",value:this.state.city,onChange:this.handleChange,name:"city"}),s.a.createElement("div",{className:"bottom-of-signup"},s.a.createElement("legend",null,"Which account would you like to create?"),s.a.createElement("div",{class:"switch"},s.a.createElement("label",null,"Newbie (To get acquainted)",s.a.createElement("input",{onClick:function(t){return e.handleAcquaintance(t)},type:"checkbox"}),s.a.createElement("span",{class:"lever"}),"Acquaintance (To become a host)")),s.a.createElement("div",{class:"center-align"},s.a.createElement("button",{class:"btn waves-effect waves-light form-button"},"Sign up!"))))}}]),t}(n.Component),w=(a(205),a(9)),C=a.n(w),N=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelectorAll(".carousel");C.a.Carousel.init(e,{fullWidth:!0,indicators:!0})}},{key:"render",value:function(){return s.a.createElement("div",{class:"carousel carousel-slider center"},s.a.createElement("div",{class:"carousel-fixed-item center"},s.a.createElement("a",{class:"btn waves-effect white grey-text darken-text-2"},"button")),s.a.createElement("div",{id:"carousel1",className:"carousel-item white-text",href:"#one!"},s.a.createElement("h2",null,"First Panel"),s.a.createElement("p",{class:"white-text"},"This is your first panel")),s.a.createElement("div",{id:"carousel2",className:"carousel-item amber white-text",href:"#two!"},s.a.createElement("h2",null,"Second Panel"),s.a.createElement("p",{class:"white-text"},"This is your second panel")),s.a.createElement("div",{id:"carousel3",className:"carousel-item green white-text",href:"#three!"},s.a.createElement("h2",null,"Third Panel"),s.a.createElement("p",{class:"white-text"},"This is your third panel")),s.a.createElement("div",{id:"carousel4",className:"carousel-item blue white-text",href:"#four!"},s.a.createElement("h2",null,"Fourth Panel"),s.a.createElement("p",{class:"white-text"},"This is your fourth panel")))}}]),t}(n.Component),O=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={usernameInput:"",passwordInput:""},a.service=new f,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(N,null))}}]),t}(n.Component),A=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={signup:!1,login:!1,stopReload:!1},a.service=new f,a.checker=function(e){console.log(a.state);var t,n=a.props.match.params.option;a.state&&!a.state.stopReload&&a.setState((t={},Object(v.a)(t,n,!0),Object(v.a)(t,"stopReload",!0),t),function(){console.log(a.state)});return a.state.login?s.a.createElement(b,Object.assign({},a.props,{getUser:a.props.getUser})):a.state.signup?s.a.createElement(y,Object.assign({},a.props,{getUser:a.props.getUser})):void 0},a.componentDidMount=function(){var e=document.querySelectorAll(".tabs");C.a.Tabs.init(e,{})},a.toggle=function(e){"login"===e.target.name&&0==a.state.login?a.setState({login:!0,signup:!1}):"signup"===e.target.name&&0==a.state.signup&&a.setState({login:!1,signup:!0})},a.renderButtons=function(){return"login"===a.props.match.params.option?s.a.createElement("ul",{class:"tabs login-tabs"},s.a.createElement("li",{class:"tab col s6"},s.a.createElement("a",{name:"login",className:"active",onClick:a.toggle},"Log in")),s.a.createElement("li",{class:"tab col s6"},s.a.createElement("a",{name:"signup",onClick:a.toggle},"Sign up"))):s.a.createElement("ul",{class:"tabs login-tabs"},s.a.createElement("li",{class:"tab col s6"},s.a.createElement("a",{name:"login",onClick:a.toggle},"Log in")),s.a.createElement("li",{class:"tab col s6"},s.a.createElement("a",{name:"signup",className:"active",onClick:a.toggle},"Sign up")))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"user-form-body"},s.a.createElement("div",{className:"row form-content"},this.renderButtons(),this.checker()))))}}]),t}(n.Component),j=(a(114),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={},a.service=new f,a.loadCity=function(e){var t=e;return a.props.user.cityPlaces[t].results.map(function(e){var t="";e.types.forEach(function(e){t+=e+", "});var a=t.substr(0,t.length-2);return s.a.createElement("div",{class:"col s12"},s.a.createElement("div",{class:"card horizontal"},s.a.createElement("div",{class:"card-stacked"},s.a.createElement("div",{class:"card-content card-places"},s.a.createElement("h5",null,e.name),s.a.createElement("p",null,e.vicinity),s.a.createElement("p",null,"Rating: ",e.rating," | (",e.user_ratings_total," reviews)"),s.a.createElement("p",null,"Categories: ",a)),s.a.createElement("div",{class:"card-action center-align"},s.a.createElement(d.b,{className:"details-link",exact:!0,to:"/details/".concat(e.place_id)},"Details")))))})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.ready?s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col s12 m5 offset-m1 categories"},s.a.createElement("h2",null,"Restaurants"),this.loadCity("restaurants")),s.a.createElement("div",{className:"col s12 m5 offset-m1 categories"},s.a.createElement("h2",null,"Lodging"),this.loadCity("lodging")),s.a.createElement("div",{className:"col s12 m5 offset-m1 categories"},s.a.createElement("h2",null,"Health"),this.loadCity("doctors")),s.a.createElement("div",{className:"col s12 m5 offset-m1 categories"},s.a.createElement("h2",null,"Bars"),this.loadCity("bars")),s.a.createElement("div",{className:"col s12 m5 offset-m1 categories"},s.a.createElement("h2",null,"Leisure"),this.loadCity("leisure")),s.a.createElement("div",{className:"col s12 m5 offset-m1 categories"},s.a.createElement("h2",null,"Government"),this.loadCity("government")),s.a.createElement("div",{className:"col s12 m5 offset-m1 categories"},s.a.createElement("h2",null,"Fitness"),this.loadCity("gym")),s.a.createElement("div",{className:"col s12 m5 offset-m1 categories"},s.a.createElement("h2",null,"Shopping"),this.loadCity("shopping")),s.a.createElement("div",{className:"col s12 m5 offset-m1 categories"},s.a.createElement("h2",null,"Banks"),this.loadCity("banks")))):s.a.createElement("h1",null,"Loading")}}]),t}(n.Component)),S=a(36),P=a.n(S),U=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={events:null,stopReload:!1},a.service=new f,a.showEvents=function(){return 0!==a.state.events.data.length?a.state.events.data.map(function(e){return s.a.createElement("div",null,s.a.createElement("div",{class:"col s12 m4"},s.a.createElement("div",{class:"card horizontal"},s.a.createElement("div",{class:"card-stacked"},s.a.createElement("div",{class:"card-content card-places"},s.a.createElement("h4",null,e.title),s.a.createElement("h6",null,"At: ",e.location.name),s.a.createElement("h6",null,"By: ",e.owner.name),s.a.createElement("p",null,e.description),s.a.createElement(P.a,{format:"MM/DD/YYYY hh:mm a"},e.time)),s.a.createElement("div",{class:"card-action center-align"},s.a.createElement(d.b,{className:"details-link",events:a.state.events,exact:!0,to:"/eventDetails/".concat(e._id)},"Details"))))))}):s.a.createElement("h1",null,"No events yet :(")},a.getEvents=function(){a.state.stopReload||E.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BASE,"/events/getEvents/").concat(a.props.user._id)).then(function(e){console.log(e.data),a.setState({events:e,stopReload:!0})}).catch(function(e){console.log(e)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.ready?s.a.createElement("div",null,s.a.createElement("div",{id:"events-for-user",className:"row"},this.getEvents(),this.state.events&&this.showEvents())):s.a.createElement("h1",null,"Loading")}}]),t}(n.Component),q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={places:!0,events:!1,stopReload:!1},a.service=new f,a.componentDidMount=function(){var e=document.querySelectorAll(".tabs");C.a.Tabs.init(e,{})},a.componentDidUpdate=function(){var e=document.querySelectorAll(".tabs");C.a.Tabs.init(e,{})},a.checker=function(e){return console.log(a.state),a.state&&(a.state.stopReload||a.setState({stopReload:!0})),a.state.places?s.a.createElement(j,Object.assign({},a.props,{getUser:a.props.getUser})):a.state.events?s.a.createElement(U,Object.assign({ready:a.props.ready},a.props,{getUser:a.props.getUser})):void 0},a.toggle=function(e){"places"===e.target.name&&!1===a.state.places?a.setState({places:!0,events:!1}):"events"===e.target.name&&!1===a.state.events&&a.setState({places:!1,events:!0})},a.renderButtons=function(){return s.a.createElement("ul",{class:"tabs login-tabs"},s.a.createElement("li",{class:"tab col s6"},s.a.createElement("a",{name:"places",className:"active",onClick:a.toggle},"Places in your city")),s.a.createElement("li",{class:"tab col s6"},s.a.createElement("a",{name:"events",onClick:a.toggle},"Events in your city")))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.ready?s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"dashboard-header"},s.a.createElement("h1",null,this.props.user.acquaintedCity)),this.renderButtons(),this.checker())):s.a.createElement("h1",null,"Loading")}}]),t}(n.Component),k=(a(115),a(174)),D=(a(212),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={details:null,stopReload:!1,favorited:!1},a.service=new f,a.getDetails=function(){if(console.log("hi"),!a.state.stopReload)if(a.props.match){var e=a.props.match.params.id;a.props.getUser(),a.props.user?E.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BASE,"/places/placeDetails/").concat(e),{user_id:a.props.user._id},{withCredentials:!0}).then(function(e){a.setState({details:e.data.place,favorited:e.data.isFavorited,stopReload:!0})}).catch(function(e){console.log(e)}):a.props.history.push("/account/login")}else{var t=a.props.placeDetailsId;a.props.getUser(),a.props.user?E.a.post("http://localhost:5000/api/places/placeDetails/".concat(t),{user_id:a.props.user._id},{withCredentials:!0}).then(function(e){a.setState({details:e.data.place,favorited:e.data.isFavorited,stopReload:!0})}).catch(function(e){console.log(e)}):a.props.history.push("/account/login")}},a.showHours=function(){if(a.state.details.hours)return a.state.details.hours.map(function(e){return s.a.createElement("p",null,e)})},a.getReviews=function(){if(a.state.details.reviews)return a.state.details.reviews.map(function(e){return s.a.createElement("div",{className:"col s12 m5 eachReview"},s.a.createElement("div",{className:"center-align"},s.a.createElement("img",{src:e.profile_photo_url,width:"25%",className:"profile-pic-review",alt:"profile picture"})),s.a.createElement("p",null,"By: ",e.author_name),s.a.createElement("p",null,"Rating: ",e.rating," |"," ",e.relative_time_description),s.a.createElement("p",null,e.text))})},a.imageCarousel=function(){if(a.state.details.photos)return console.log(a.state.details.photos),s.a.createElement(k.Carousel,null,s.a.createElement("div",null,s.a.createElement("img",{src:a.state.details.photos[0],height:"250px",alt:"no photo available"})),s.a.createElement("div",null,s.a.createElement("img",{src:a.state.details.photos[1],height:"250px",alt:"no photo available"})),s.a.createElement("div",null,s.a.createElement("img",{src:a.state.details.photos[2],height:"250px",alt:"no photo available"})))},a.addToFavorites=function(){a.props.getUser(),a.props.user?E.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BASE,"/places/addToFavoritePlaces/").concat(a.state.details._id),{favorited:a.state.favorited},{withCredentials:!0}).then(function(e){console.log(e),a.props.getUser(),a.setState({favorited:!a.state.favorited})}):a.props.history.push("/")},a.showDetails=function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"col s12 m6"},s.a.createElement("h2",null,a.state.details.name),s.a.createElement("h5",null,a.state.details.address),s.a.createElement("h5",null,a.state.details.phone),s.a.createElement("h5",null,"Hours: "),a.showHours(),s.a.createElement("a",{href:a.state.details.website,rel:"noopener noreferrer",target:"_blank"},"Link to their website"),s.a.createElement("br",null),!a.state.favorited&&s.a.createElement("button",{className:"btn waves-effect waves-light addFavoritesButton",onClick:a.addToFavorites},"Add to favorites"),a.state.favorited&&s.a.createElement("button",{className:"btn waves-effect waves-light favoritedButton",onClick:a.addToFavorites},"Favorited")),s.a.createElement("div",{id:"details-carousel",className:"col s12 m6"},a.imageCarousel()),s.a.createElement("div",{className:"col s12"},s.a.createElement("h4",null,"Reviews"),s.a.createElement("p",null,"Rating avg: ",a.state.details.rating,"/5 | Price:"," ",a.state.details.price_level,"/4")),s.a.createElement("div",{id:"place-reviews",className:"col s12"},a.getReviews()))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getDetails()}},{key:"componentDidUpdate",value:function(){this.getDetails()}},{key:"render",value:function(){return this.props.ready?s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},this.state.details&&this.showDetails())):s.a.createElement("h1",null,"Loading")}}]),t}(n.Component)),_=(a(213),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={eventdetails:null,stopReload:!1,attending:!1,acquaintance:!0,listOfAttendees:!1,discussion:!1,message:""},a.service=new f,a.componentDidMount=function(){var e=document.querySelectorAll(".tabs");C.a.Tabs.init(e,{})},a.componentDidUpdate=function(){var e=document.querySelectorAll(".tabs");C.a.Tabs.init(e,{})},a.attend=function(){a.props.getUser(),a.props.user?(console.log(a.state.eventdetails._id),E.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BASE,"/events/attendEvent"),{eventId:a.state.eventdetails._id,attending:a.state.attending},{withCredentials:!0}).then(function(e){console.log(e),a.props.getUser(),a.setState({attending:!a.state.attending,eventdetails:e.data})})):a.props.history.push("/")},a.showParticipants=function(){return console.log(a.state.eventdetails.discussion),a.state.eventdetails.discussion.participants.map(function(e){return s.a.createElement("div",{className:"user-participants left-align"},s.a.createElement(d.b,{exact:!0,to:""},"@",e.username))})},a.toggle=function(e){"acquaintance"===e.target.name&&!1===a.state.acquaintance?a.setState({acquaintance:!0,listOfAttendees:!1,discussion:!1}):"listOfAttendees"===e.target.name&&!1===a.state.listOfAttendees?a.setState({acquaintance:!1,listOfAttendees:!0,discussion:!1}):"discussion"===e.target.name&&!1===a.state.discussion&&a.setState({acquaintance:!1,listOfAttendees:!1,discussion:!0})},a.eventOptions=function(){return s.a.createElement("ul",{class:"tabs event-tabs"},s.a.createElement("li",{class:"tab col s4"},s.a.createElement("a",{name:"acquaintance",className:"active",onClick:a.toggle},"Acquaintance")),s.a.createElement("li",{class:"tab col s4"},s.a.createElement("a",{name:"listOfAttendees",onClick:a.toggle},"Attendees")),s.a.createElement("li",{class:"tab col s4"},s.a.createElement("a",{name:"discussion",onClick:a.toggle},"Discussion")))},a.showMessages=function(){return a.state.eventdetails.discussion.messages.length>0?a.state.eventdetails.discussion.messages.map(function(e){return e.createdBy._id===a.props.user._id?s.a.createElement("div",{className:"right-align"},s.a.createElement("p",{className:"user-message-name"},"Me"),s.a.createElement("div",{className:"user-chat-container"},s.a.createElement("div",{className:"user-message"},s.a.createElement("div",{className:"content-message-container"},s.a.createElement("p",{className:"user-message-content"},e.body))))):s.a.createElement("div",{className:"left-align"},s.a.createElement("p",{className:"user-message-name"},e.createdBy.username),s.a.createElement("div",{className:"chat-container"},s.a.createElement("div",{className:"other-user-message"},s.a.createElement("div",{className:"content-message-container"},s.a.createElement("p",{className:"other-user-message-content"},e.body)))))}):s.a.createElement("h3",null,"No messages yet, post something!")},a.handleMessage=function(e){a.setState({message:e.target.value})},a.sendMessage=function(e){e.preventDefault(),E.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BASE,"/events/postToForum/").concat(a.state.eventdetails._id),{message:a.state.message},{withCredentials:!0}).then(function(e){console.log(e),a.setState({message:"",eventdetails:e.data})})},a.clickedInfo=function(){return a.state.acquaintance?s.a.createElement("div",null,s.a.createElement("img",{className:"acquaintance-img",src:a.state.eventdetails.owner.profileImg}),s.a.createElement("h4",null,"Name: ",a.state.eventdetails.owner.name," (@",a.state.eventdetails.owner.username,")"),s.a.createElement("h5",null,"From: ",a.state.eventdetails.owner.acquaintedCity)):a.state.listOfAttendees?a.state.eventdetails.attendees[0]?a.state.eventdetails.attendees.map(function(e){return s.a.createElement("div",{className:"left-align"},s.a.createElement("h6",null," - ",e.name," (@",e.username,")"))}):s.a.createElement("h1",null,"Nobody is attending yet!"):a.state.discussion?s.a.createElement("div",{className:"col s12 message-box"},s.a.createElement("div",{className:"left-align col s12 m3"},s.a.createElement("h5",null,"Participants"),a.showParticipants()),s.a.createElement("div",{className:"col s12 m9",id:"chat-box"},a.showMessages(),s.a.createElement("form",{className:"message-input-and-button",onSubmit:a.sendMessage},s.a.createElement("input",{value:a.state.message,type:"text",name:"message",onChange:a.handleMessage}),s.a.createElement("button",{className:"messageButton"},"Send")))):void 0},a.showEventDetails=function(){return console.log("working"),s.a.createElement("div",null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"event-details valign-center"},s.a.createElement("h2",null,a.state.eventdetails.title),s.a.createElement(P.a,{format:"MM/DD/YYYY hh:mm a"},a.state.eventdetails.time),s.a.createElement("p",null,"Event details: ",a.state.eventdetails.description),!a.state.attending&&s.a.createElement("button",{className:"btn waves-effect waves-light attendButton",onClick:a.attend},"Attend Event"),a.state.attending&&s.a.createElement("button",{className:"btn waves-effect waves-light attendingButton",onClick:a.attend},"Attending"))),s.a.createElement("div",{className:"row"},a.eventOptions(),a.clickedInfo())),s.a.createElement("h4",null,"Location Details"),s.a.createElement(D,{getUser:a.props.getUser,user:a.props.user,ready:a.props.ready,placeDetailsId:a.state.eventdetails.location.placeId}))},a.getEventDetails=function(){a.state.stopReload||(a.props.getUser(),a.props.user?E.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BASE,"/events/getSingleEvent/").concat(a.props.match.params.id),{user_id:a.props.user._id},{withCredentials:!0}).then(function(e){console.log("------------",e),!0===e.data.attending?a.setState({eventdetails:e.data.event,stopReload:!0,attending:!0}):a.setState({eventdetails:e.data.event,stopReload:!0})}).catch(function(e){console.log(e)}):a.props.history.push("/account/login"))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.ready?s.a.createElement("div",null,s.a.createElement("div",{id:"events-for-user",className:"row"},this.getEventDetails(),this.state.eventdetails&&this.showEventDetails())):s.a.createElement("h1",null,"Loading")}}]),t}(n.Component)),L=(a(214),a(215),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={username:a.props.user.username,city:a.props.user.acquaintedCity,email:a.props.user.email,name:a.props.user.name,isAcquaintance:a.props.user.isAcquaintance,description:a.props.user.profileDescription},a.service=new f,a.componentDidMount=function(){var e=document.querySelectorAll(".modal");C.a.Modal.init(e,{})},a.handleChange=function(e){e.preventDefault(),a.setState(Object(v.a)({},e.target.name,e.target.value))},a.submitEditForm=function(e){console.log("hi"),e.preventDefault();var t=a.state.username,n=a.state.email,s=a.state.name,l=a.state.city,r=a.state.isAcquaintance,c=a.state.description;E.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BASE,"/user/editProfile"),{username:t,email:n,name:s,city:l,isAcquaintance:r,profileDescription:c},{withCredentials:!0}).then(function(e){a.props.updateUser(e)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleAcquaintance",value:function(e){this.state.isAcquaintance?this.setState({isAcquaintance:!1}):this.setState({isAcquaintance:!0})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{id:"editPorfileModal1",class:"modal"},s.a.createElement("div",{class:"modal-content"},s.a.createElement("h4",null,"Edit Profile"),s.a.createElement("form",{onSubmit:this.submitEditForm},s.a.createElement("legend",null,"Name"),s.a.createElement("input",{type:"text",value:this.state.name,onChange:this.handleChange,name:"name"}),s.a.createElement("legend",null,"Username"),s.a.createElement("input",{type:"text",value:this.state.username,onChange:this.handleChange,name:"username"}),s.a.createElement("legend",null,"Email"),s.a.createElement("input",{type:"text",value:this.state.email,onChange:this.handleChange,name:"email"}),s.a.createElement("legend",null,"City"),s.a.createElement("input",{type:"text",value:this.state.city,onChange:this.handleChange,name:"city"}),s.a.createElement("legend",null,"Profile Description"),s.a.createElement("input",{type:"text",value:this.state.description,onChange:this.handleChange,name:"description"}),s.a.createElement("legend",null,"Acquaintance"),!this.state.isAcquaintance&&s.a.createElement("div",{class:"switch"},s.a.createElement("label",null,"Newbie (To get acquainted)",s.a.createElement("input",{onClick:function(t){return e.handleAcquaintance(t)},type:"checkbox"}),s.a.createElement("span",{class:"lever"}),"Acquaintance (To become a host)")),this.state.isAcquaintance&&s.a.createElement("div",{class:"switch"},s.a.createElement("label",null,"Newbie (To get acquainted)",s.a.createElement("input",{onClick:function(t){return e.handleAcquaintance(t)},type:"checkbox",checked:!0}),s.a.createElement("span",{class:"lever"}),"Acquaintance (To become a host)")),s.a.createElement("button",{class:"modal-close waves-effect submit-changes btn"},"Submit")))))}}]),t}(n.Component)),I=(a(216),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={title:"",time:"",description:"",location:""},a.service=new f,a.componentDidMount=function(){var e=document.querySelectorAll(".modal");C.a.Modal.init(e,{}),e=document.querySelectorAll("select"),C.a.FormSelect.init(e,{})},a.createEvent=function(e){console.log("hi"),e.preventDefault();var t=a.state.time,n=a.state.title,s=a.state.location,l=a.state.description;E.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BASE,"/events/createEvent"),{time:t,title:n,location:s,description:l},{withCredentials:!0}).then(function(e){a.props.updateUser(e)})},a.handleChange=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value)),console.log(a.state)},a.showLocationOptions=function(){return a.props.user.favoritePlaces.map(function(e){return s.a.createElement("option",{value:e.name},e.name)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{id:"createEventModal",class:"modal"},s.a.createElement("div",{class:"modal-content"},s.a.createElement("h4",null,"Create Event"),s.a.createElement("form",{onSubmit:this.createEvent},s.a.createElement("legend",null,"Title"),s.a.createElement("input",{type:"text",onChange:this.handleChange,name:"title"}),s.a.createElement("legend",null,"Location"),s.a.createElement("select",{onChange:this.handleChange,name:"location"},s.a.createElement("option",{value:"",disabled:!0,selected:!0},"Choose your Location"),this.showLocationOptions()),s.a.createElement("legend",null,"Date & Time"),s.a.createElement("input",{onChange:this.handleChange,type:"datetime-local",name:"time"}),s.a.createElement("legend",null,"Description"),s.a.createElement("input",{onChange:this.handleChange,type:"text",name:"description"}),s.a.createElement("button",{class:"modal-close waves-effect submit-changes btn"},"Submit")))))}}]),t}(n.Component)),x=(s.a.Component,function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={stopReload:!1,userForProfile:null,acquaintance:!1,favorites:!0,upcomingEvents:!1,pastEvents:!1,username:"",city:"",email:"",name:"",lat:null,lng:null},a.service=new f,a.componentDidMount=function(){var e=document.querySelectorAll(".tabs"),t=(C.a.Tabs.init(e,{}),document.querySelectorAll(".modal"));C.a.Modal.init(t,{});a.getLatLng()},a.componentDidUpdate=function(){var e=document.querySelectorAll(".tabs"),t=(C.a.Tabs.init(e,{}),document.querySelectorAll(".modal"));C.a.Modal.init(t,{})},a.getLatLng=function(){E.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BASE,"/user/latlng"),{},{withCredentials:!0}).then(function(e){console.log(e),a.setState({lat:e.data.lat,lng:e.data.lng})})},a.toggle=function(e){"favorites"===e.target.name&&!1===a.state.favorites?a.setState({favorites:!0,upcomingEvents:!1,pastEvents:!1}):"upcomingEvents"===e.target.name&&!1===a.state.upcomingEvents?a.setState({favorites:!1,upcomingEvents:!0,pastEvents:!1}):"pastEvents"===e.target.name&&!1===a.state.pastEvents&&a.setState({favorites:!1,upcomingEvents:!1,pastEvents:!0})},a.displayInfo=function(){return a.state.favorites?!a.state.userForProfile.favoritePlaces.length>0?s.a.createElement("h2",null,"No favorites yet :( Start exploring!"):a.state.userForProfile.favoritePlaces.map(function(e){return s.a.createElement("div",{className:"col s12 m6 l4"},s.a.createElement("div",{class:"card horizontal"},s.a.createElement("div",{class:"card-stacked"},s.a.createElement("div",{class:"card-content card-favorites"},s.a.createElement("h4",null,e.name),s.a.createElement("h6",null,e.address),s.a.createElement("h6",null,"Rating: ",e.rating,"/5")),s.a.createElement("div",{class:"card-action center-align"},s.a.createElement(d.b,{className:"details-link",exact:!0,to:"/details/".concat(e.placeId)},"Details")))))}):a.state.upcomingEvents?!a.state.userForProfile.upcomingEvents.length>0?s.a.createElement("h2",null,"No upcoming events yet :( Attend some!"):a.state.userForProfile.upcomingEvents.map(function(e){return s.a.createElement("div",{className:"col s12 m6 l4"},s.a.createElement("div",{class:"card horizontal"},s.a.createElement("div",{class:"card-stacked"},s.a.createElement("div",{class:"card-content card-favorites"},s.a.createElement("h4",null,e.title),s.a.createElement("h6",null,"At ",e.location.name),s.a.createElement(P.a,{format:"MM/DD/YYYY hh:mm a"},e.time),s.a.createElement("h6",null,e.description)),s.a.createElement("div",{class:"card-action center-align"},s.a.createElement(d.b,{className:"details-link",exact:!0,to:"/eventDetails/".concat(e._id)},"Details")))))}):a.state.pastEvents?!a.state.userForProfile.pastEvents.length>0?s.a.createElement("h2",null,"No past events yet :( Attend some!"):a.state.userForProfile.pastEvents.map(function(e){return s.a.createElement("div",{className:"col s12 m6 l4"},s.a.createElement("div",{class:"card horizontal"},s.a.createElement("div",{class:"card-stacked"},s.a.createElement("div",{class:"card-content card-favorites"},s.a.createElement("h4",null,e.title),s.a.createElement(P.a,{format:"MM/DD/YYYY hh:mm a"},e.time),s.a.createElement("h6",null,e.description)),s.a.createElement("div",{class:"card-action center-align"},s.a.createElement(d.b,{className:"details-link",exact:!0,to:"/eventDetails/".concat(e._id)},"Details")))))}):void 0},a.profileTabs=function(){return s.a.createElement("ul",{className:"tabs profile-tabs"},s.a.createElement("li",{class:"tab col s4"},s.a.createElement("a",{name:"favorites",className:"active",onClick:a.toggle},"Favorite Places")),s.a.createElement("li",{class:"tab col s4"},s.a.createElement("a",{name:"upcomingEvents",onClick:a.toggle},"Upcoming Events")),s.a.createElement("li",{class:"tab col s4"},s.a.createElement("a",{name:"pastEvents",onClick:a.toggle},"Past Events")))},a.getProfileInfo=function(e){a.state.stopReload?void 0!==e&&(e.data.updated.isAcquaintance?a.setState({userForProfile:e.data.updated,acquaintance:!0}):a.setState({userForProfile:e.data.updated,acquaintance:!1})):(console.log(e),a.props.getUser(),console.log(a.state.userForProfile),null!==a.props.user?!0===a.props.user.isAcquaintance?a.setState({stopReload:!0,userForProfile:a.props.user,acquaintance:!0,name:a.props.user.name,username:a.props.user.username,email:a.props.user.email,city:a.props.user.acquaintedCity}):a.setState({stopReload:!0,userForProfile:a.props.user,name:a.props.user.name,username:a.props.user.username,email:a.props.user.email,city:a.props.user.acquaintedCity}):a.props.history.push("/account/login"))},a.showInfo=function(){return console.log(a.state.userForProfile),s.a.createElement("div",null,s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row profile-header"},s.a.createElement("div",{className:"all-profile-info"},!a.state.acquaintance&&s.a.createElement("h1",null,a.state.userForProfile.name),a.state.acquaintance&&s.a.createElement("div",{className:"acquaintance-box"},s.a.createElement("h1",null,a.state.userForProfile.name),s.a.createElement("img",{className:"acquaintance-logo",src:"/images/acquaintance-certified.png"})),s.a.createElement("div",{className:"image-info-map"},s.a.createElement("img",{className:"profile-img",src:a.state.userForProfile.profileImg}),s.a.createElement("div",{className:"user-info-under-name left-align"},s.a.createElement("h6",null,a.state.userForProfile.profileDescription),s.a.createElement("h5",null,"@",a.state.userForProfile.username),s.a.createElement("h5",null,"Acquainted city: ",a.state.userForProfile.acquaintedCity))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"buttons"},s.a.createElement("a",{class:"waves-effect waves-light btn modal-trigger editButton",href:"#editPorfileModal1"},"Edit Profile"),s.a.createElement("br",null),s.a.createElement(L,{updateUser:a.getProfileInfo,user:a.props.user}),a.state.acquaintance&&s.a.createElement("a",{class:"waves-effect waves-light btn modal-trigger editButton",href:"#createEventModal"},"Create Event"),s.a.createElement(I,{getUser:a.props.getUser,updateUser:a.getProfileInfo,user:a.props.user})))),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row profile-tabs"},a.profileTabs(),a.displayInfo())))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.ready?s.a.createElement("div",null,this.getProfileInfo(),this.state.userForProfile&&this.state.lat&&this.showInfo()):s.a.createElement("h1",null,"Loading")}}]),t}(n.Component)),R=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={userLoggedIn:null,ready:!1},a.service=new f,a.getCurrentlyLoggedInUser=function(){a.service.currentUser().then(function(e){console.log(e),a.setState({userLoggedIn:e,ready:!0})}).catch(function(){a.setState({userLoggedIn:null})})},a.logout=function(e){e.preventDefault(),a.service.logout().then(function(e){console.log(e),a.props.history.push("/"),a.setState({userLoggedIn:null})}).catch(function(e){console.log(e)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getCurrentlyLoggedInUser()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement(p,{logout:this.logout,ready:this.state.ready,user:this.state.userLoggedIn}),s.a.createElement(g.c,null,s.a.createElement(g.a,{exact:!0,path:"/",render:function(t){return s.a.createElement(O,Object.assign({},t,{getUser:e.getCurrentlyLoggedInUser,ready:e.state.ready}))}}),s.a.createElement(g.a,{exact:!0,path:"/profile",render:function(t){return s.a.createElement(x,Object.assign({},t,{getUser:e.getCurrentlyLoggedInUser,ready:e.state.ready,user:e.state.userLoggedIn}))}}),s.a.createElement(g.a,{exact:!0,path:"/account/:option",render:function(t){return s.a.createElement(A,Object.assign({},t,{getUser:e.getCurrentlyLoggedInUser,ready:e.state.ready}))}}),s.a.createElement(g.a,{exact:!0,path:"/dashboard",render:function(t){return s.a.createElement(q,Object.assign({},t,{getUser:e.getCurrentlyLoggedInUser,user:e.state.userLoggedIn,ready:e.state.ready}))}}),s.a.createElement(g.a,{exact:!0,path:"/details/:id",render:function(t){return s.a.createElement(D,Object.assign({},t,{getUser:e.getCurrentlyLoggedInUser,user:e.state.userLoggedIn,ready:e.state.ready}))}}),s.a.createElement(g.a,{exact:!0,path:"/eventDetails/:id",render:function(t){return s.a.createElement(_,Object.assign({},t,{getUser:e.getCurrentlyLoggedInUser,user:e.state.userLoggedIn,ready:e.state.ready}))}}),s.a.createElement(g.a,{exact:!0,path:"/profile",render:function(t){return s.a.createElement(x,Object.assign({},t,{getUser:e.getCurrentlyLoggedInUser,user:e.state.userLoggedIn,ready:e.state.ready}))}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(d.a,null,s.a.createElement(g.a,{path:"/",component:R})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},47:function(e,t,a){}},[[177,1,2]]]);
//# sourceMappingURL=main.20c367a1.chunk.js.map